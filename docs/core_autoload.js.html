<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: core/autoload.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: core/autoload.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const fs = require("fs");
const path = require("path");

/**
 * Autoload class is responsible for recursively reading all the filenames and store it in the object having key value pair. This class
 * has the significance of loading required modules and returning the paths which is necessary for dynamic loading of all the directories
 * and subdirectories. Since, no multiple new autoload instances can be dealt so the instance of this class is made singleton using 
 * Singleton Design Pattern.   
 */
class Autoload {

    /**
     * @constructor
     */
    constructor() {
        this.fileObject = {};
    }

    /**
     * Get the singleton instance of the Autoload class.
     * @returns {Object} The Autoload instance.
     */
    static getInstance() {
        if (!Autoload.instance) {
            Autoload.instance = new Autoload();
        }
        return Autoload.instance;
    }

    /**
     * This function takes root path as an input, recursively iterates it and loads the file object with paths.
     * It is using the file system module which has the method readdirSync for synchronously reading the directories
     * and subdirectories using the recursive call.
     * @param {string} dirPath 
     */
    getAllFiles(dirPath) {
        let self = this;
        let excludeFiles = [".git", ".nyc_output", "coverage", "cypress", "docs", "node_modules", "test", "autoload.js", ".gitlab-ci.yml", ".nycrc.json", "cypress.json", "package-lock.json", "jsdoc.json", "package.json"];
        let files = fs.readdirSync(dirPath);

        files.forEach(function (file) {

            if (excludeFiles.includes(file)) { return; }
            if (fs.statSync(dirPath + "/" + file).isDirectory()) {
                self.getAllFiles(dirPath + "/" + file);
            } else {
                let fileName = file.substring((file.lastIndexOf("/")) + 1, file.lastIndexOf("."));
                self.fileObject[fileName] = path.join(dirPath, "/", file);
            }
        })
    }

    /**
     * Returns the path specified in the parameter.
     * @param {string} fileName 
     * @returns {string} the module path.
     */
    getFileName(fileName) {
        this.getAllFiles(process.env.PWD);
        return require(this.fileObject[fileName]);
    }
}

module.exports = Autoload;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Autoload.html">Autoload</a></li><li><a href="ControllerFactory.html">ControllerFactory</a></li><li><a href="CourseController.html">CourseController</a></li><li><a href="CourseMetaData.html">CourseMetaData</a></li><li><a href="CourseModel.html">CourseModel</a></li><li><a href="CRUDModel.html">CRUDModel</a></li><li><a href="DbFactory.html">DbFactory</a></li><li><a href="DefaultController.html">DefaultController</a></li><li><a href="Dispatcher.html">Dispatcher</a></li><li><a href="Driver.html">Driver</a></li><li><a href="ErrorController.html">ErrorController</a></li><li><a href="ModelFactory.html">ModelFactory</a></li><li><a href="QueryBuilder.html">QueryBuilder</a></li><li><a href="Request.html">Request</a></li><li><a href="Response.html">Response</a></li><li><a href="RestController.html">RestController</a></li><li><a href="StudentController.html">StudentController</a></li><li><a href="StudentMetaData.html">StudentMetaData</a></li><li><a href="StudentModel.html">StudentModel</a></li><li><a href="TeacherController.html">TeacherController</a></li><li><a href="TeacherMetaData.html">TeacherMetaData</a></li><li><a href="TeacherModel.html">TeacherModel</a></li><li><a href="ViewManager.html">ViewManager</a></li></ul><h3>Global</h3><ul><li><a href="global.html#serverConnection">serverConnection</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Tue Aug 17 2021 17:08:09 GMT+0500 (Pakistan Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
